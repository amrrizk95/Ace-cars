(this["webpackJsonpace-client"]=this["webpackJsonpace-client"]||[]).push([[0],{23:function(e){e.exports=JSON.parse('{"a":"https://localhost:44300/api"}')},57:function(e,t,a){},58:function(e,t,a){},76:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(2),s=a.n(r),c=a(45),i=a.n(c),o=(a(57),a(58),a(8)),l=a(9),d=a(11),h=a(10),u=a(18),j=a(15),b=a.n(j),m=(a(76),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("nav",{id:"navbar",className:"row navbar navbar-expand-lg navbar-light fixed-top navbarDashboard styledNav",style:{backgroundColor:"#e2e2ec"},children:Object(n.jsx)("div",{className:"navbar-collapse",id:"navbarNavDropdown",children:Object(n.jsxs)("ul",{className:"navbar-nav",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(u.b,{className:"nav-link butons-header",to:"/login",children:"login"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(u.b,{className:"nav-link butons-header",to:"/product",children:"Products"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(u.b,{className:"nav-link butons-header",to:"/addproduct",children:"Add Product"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(u.b,{className:"nav-link butons-header",to:"/register",children:"register"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(u.b,{className:"nav-link butons-header",to:"/logout",children:"logout"})})]})})})}}]),a}(r.Component)),p=a(4),v=a(19),O=a(6),g=a(32),f=a.n(g),x=a(47);b.a.interceptors.request.use((function(e){var t=localStorage.getItem("token");return e.headers.Authorization=t?"Bearer ".concat(t):"",e}));var N={get:b.a.get,post:b.a.post,put:b.a.put,patch:b.a.patch,delete:b.a.delete},w=a(23),y=a(48),C=(a(82),"".concat(w.a,"/User/authenticate")),k="token";function P(e){return D.apply(this,arguments)}function D(){return(D=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.post(C,JSON.stringify(t),{headers:{"Content-Type":"application/json"}}).then((function(e){localStorage.setItem(k,e.data.token),console.log(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S={login:P},E=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).validate=function(){var e="",t="";return n.state.data.Username||(e="invalid Username"),(!n.state.data.Password||n.state.data.Password.length<6)&&(t="invalid Password"),!e&&!t||(n.setState({userNameError:e,passwordError:t}),!1)},n.handelSubmit=n.handelSubmit.bind(Object(O.a)(n)),n.handleChange=n.handleChange.bind(Object(O.a)(n)),n.loginUser=n.loginUser.bind(Object(O.a)(n)),n.state={data:{Username:"",Password:""},userNameError:"",passwordError:""},n}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=Object(v.a)({},this.state.data);t[e.target.name]=e.target.value,this.setState({data:t})}},{key:"loginUser",value:function(){var e=this;if(this.validate())try{var t=this.state.data;S.login(t).then((function(t){var a=e.props.location.state;window.location=a?a.from.pathname:"/product"})).catch((function(t){e.setState({userNameError:"invalid user name or Password",passwordError:"invalid user name or Password"})}))}catch(a){this.setState({userNameError:"invalid user name or Password",passwordError:"invalid user name or Password"})}}},{key:"handelSubmit",value:function(e){e.preventDefault(),this.loginUser()}},{key:"render",value:function(){var e=this.state.data;return Object(n.jsxs)(r.Fragment,{children:[Object(n.jsx)(m,{}),Object(n.jsx)("div",{className:"styleDiv parent",children:Object(n.jsx)("div",{className:"form-model font-bold h-100",children:Object(n.jsx)("div",{className:"container h-100",children:Object(n.jsx)("div",{className:"row align-items-center h-100",children:Object(n.jsx)("div",{className:"col-lg-6 col-md-7 col-sm-8 col-offset-sm-2 loginForm",children:Object(n.jsxs)("form",{children:[Object(n.jsx)("h3",{children:"Sign In"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Email "}),Object(n.jsx)("input",{value:e.Username,onChange:this.handleChange,type:"email",className:"form-control",name:"Username",placeholder:"Enter email"}),this.state.userNameError&&Object(n.jsx)("div",{className:"alert alert-danger",children:this.state.userNameError})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{value:e.Password,onChange:this.handleChange,type:"Password",className:"form-control",name:"Password",placeholder:"Enter Password"}),this.state.passwordError&&Object(n.jsx)("div",{className:"alert alert-danger",children:this.state.passwordError})]}),Object(n.jsx)("button",{type:"submit",className:"btn btn-success",onClick:this.handelSubmit,children:"Login"})]})})})})})})]})}}]),a}(r.Component),U=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.removeItem("token"),window.location="/"}},{key:"render",value:function(){return null}}]),a}(s.a.Component),T="".concat(w.a,"/User/register");var F=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).validate=function(){var e="",t="",a="";return n.state.data.Username||(e="invalid Username"),n.state.data.Name||(t="invalid Name"),(!n.state.data.Password||n.state.data.Password.length<6)&&(a="invalid Password"),!(e||a||t)||(n.setState({userNameError:e,passwordError:a,emailError:t}),!1)},n.handelSubmit=n.handelSubmit.bind(Object(O.a)(n)),n.handleChange=n.handleChange.bind(Object(O.a)(n)),n.validate=n.validate.bind(Object(O.a)(n)),n.register=n.register.bind(Object(O.a)(n)),n.state={data:{Username:"",Name:"",Password:""},userNameError:"",emailError:"",passwordError:""},n}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=Object(v.a)({},this.state.data);t[e.target.name]=e.target.value,this.setState({data:t})}},{key:"register",value:function(e){var t=this;if(e.preventDefault(),this.validate()){var a=this.state.data;try{(function(e){return N.post(T,JSON.stringify(e),{headers:{"Content-Type":"application/json"}}).then((function(){return P(e)}))})(a).then((function(e){var a=t.props.location.state;window.location=a?a.from.pathname:"/product"})).catch((function(e){return console.log(e)}))}catch(n){this.setState({userNameError:"invalid user name or Password",passwordError:"invalid user name or Password",emailError:"invalid user name or Password"})}}}},{key:"handelSubmit",value:function(e){e.preventDefault(),this.register()}},{key:"render",value:function(){var e=this.state.data;return Object(n.jsxs)(r.Fragment,{children:[Object(n.jsx)(m,{}),Object(n.jsx)("div",{className:"styleDiv parent",children:Object(n.jsx)("div",{className:"form-model font-bold h-100",children:Object(n.jsx)("div",{className:"container h-100",children:Object(n.jsx)("div",{className:"row align-items-center h-100",children:Object(n.jsx)("div",{className:"col-lg-6 col-md-7 col-sm-8 col-offset-sm-2 RegisterForm",children:Object(n.jsxs)("form",{children:[Object(n.jsx)("h3",{children:"Sign Up"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"User Name"}),Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:"User Name",name:"Username",onChange:this.handleChange,value:e.Username}),this.state.userNameError&&Object(n.jsx)("div",{className:"alert alert-danger",children:this.state.userNameError})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Name "}),Object(n.jsx)("input",{type:"Name",className:"form-control",placeholder:"Enter Name",name:"Name",value:e.Name,onChange:this.handleChange}),this.state.userNameError&&Object(n.jsx)("div",{className:"alert alert-danger",children:this.state.userNameError})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"Password",className:"form-control",placeholder:"Enter Password",name:"Password",value:e.Password,onChange:this.handleChange}),this.state.passwordError&&Object(n.jsx)("div",{className:"alert alert-danger",children:this.state.passwordError})]}),Object(n.jsx)("button",{type:"submit",className:"btn btn-success",onClick:this.register,children:"Sign Up"}),Object(n.jsxs)("p",{className:"forgot-Password text-right",children:["Already registered ? ",Object(n.jsx)(u.b,{to:"/login",children:"sign in"})]})]})})})})})})]})}}]),a}(r.Component),I=a(29);I.DataTable=a(85);var R=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:[]},n.handelChange=n.handelChange.bind(Object(O.a)(n)),n.intiatDataTable=n.intiatDataTable.bind(Object(O.a)(n)),n.reintiatDataTable=n.reintiatDataTable.bind(Object(O.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.intiatDataTable(this.props.data)}},{key:"componentDidUpdate",value:function(){console.log(this.props.changedRow),this.handelChange(this.props.changedRow)}},{key:"componentWillUnmount",value:function(){this.$el.DataTable().destroy(!0)}},{key:"intiatDataTable",value:function(e){this.$el=I(this.el),this.$el.DataTable({data:e,columns:[{data:"id",title:"Id"},{data:"name",title:"Name"},{data:"price",title:"Price"},{data:"description",title:"Description"}],searching:!1,paging:!1,info:!1})}},{key:"reintiatDataTable",value:function(e){this.$el.DataTable().destroy(!0),this.$el=I(this.el),this.$el.DataTable({data:e,columns:[{data:"id",title:"Id"},{data:"name",title:"Name"},{data:"price",title:"Price"},{data:"description",title:"Description"}],searching:!1,paging:!1,info:!1})}},{key:"handelChange",value:function(e){var t=this.$el.DataTable();t.rows().eq(0).each((function(a){if(t.row(a).data().id==e.Id){console.log("yes");var n=t.row(a).data();n.price=e.Price,console.log("temp",n),t.row(a).data(n).draw(!0)}}))}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{children:Object(n.jsx)("table",{width:"80%",ref:function(t){return e.el=t}})})}}]),a}(r.Component),J=a(33),$=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:[],changedRow:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this;b.a.get("https://localhost:44300/api/products").then((function(t){var a=t.data;e.setState({data:a})}));var a=(new J.b).withUrl("https://localhost:44300/changePrice/",{skipNegotiation:!0,transport:J.a.WebSockets}).build();a.on("changeProductPrice",(function(e){var a=JSON.parse(e);t.setState({changedRow:a.Result})})),a.start(),a.serverTimeoutInMilliseconds=1e5;a.onclose((function(){return setTimeout(a.start().then((function(){return console.info("Websocket Connection Established")})).catch((function(e){return console.error("SignalR Connection Error: ",e)})),5e3)}))}},{key:"render",value:function(){return Object(n.jsxs)(r.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)(m,{})}),Object(n.jsx)("div",{className:"styleDiv",children:Object(n.jsx)(R,{data:this.state.data,changedRow:this.state.changedRow})})]})}}]),a}(r.Component),A=function(){return Object(n.jsxs)("div",{className:"",children:[Object(n.jsx)(m,{}),Object(n.jsx)("div",{className:"styleDiv",children:Object(n.jsx)("h1",{children:"404 Error Page Not Found !"})})]})},M=function(){return Object(n.jsxs)("div",{className:"",children:[Object(n.jsx)(m,{}),Object(n.jsx)("div",{className:"styleDiv",children:Object(n.jsx)("h1",{style:{textAlign:"center"},children:"Home"})})]})},B="".concat(w.a,"/Products");var L=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={product:{Name:"",Price:"",Description:""}},n.handleChange=n.handleChange.bind(Object(O.a)(n)),n.handelSubmit=n.handelSubmit.bind(Object(O.a)(n)),n.validat=n.validat.bind(Object(O.a)(n)),n}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=Object(v.a)({},this.state.product);t[e.target.name]=e.target.value,this.setState({product:t}),console.log(this.state.product)}},{key:"validat",value:function(){var e=this.state.product.Name,t=this.state.product.Price,a=this.state.product.Description;return!!(e&&t&&a)}},{key:"addproduct",value:function(){var e=this;(function(e){return N.post(B,JSON.stringify(e),{headers:{"Content-Type":"application/json"}})})(this.state.product).then((function(){var t=e.props.location.state;window.location=t?t.from.pathname:"/product"}))}},{key:"handelSubmit",value:function(e){e.preventDefault(),this.validat()?this.addproduct():alert("please complete product product")}},{key:"render",value:function(){return console.log(this.state.product),Object(n.jsxs)(r.Fragment,{children:[Object(n.jsx)(m,{}),Object(n.jsx)("div",{className:"styleDiv col-md-6 col-sm-12",children:Object(n.jsxs)("form",{className:"align-items-center",children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Name"}),Object(n.jsx)("input",{type:"text",className:"form-control",name:"Name",value:this.state.product.Name,placeholder:"product Name",onChange:this.handleChange})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Price"}),Object(n.jsx)("input",{type:"number",className:"form-control",name:"Price",value:this.state.product.Price,placeholder:"product Price",onChange:this.handleChange})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Description"}),Object(n.jsx)("input",{type:"text",className:"form-control",name:"Description",value:this.state.product.Description,placeholder:"Product Description",onChange:this.handleChange})]}),Object(n.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:this.handelSubmit,children:"Add"})]})})]})}}]),a}(s.a.Component),W=a(51);function q(){return!!function(){try{var e=localStorage.getItem("token");return Object(y.a)(e)}catch(t){return null}}()}var z=function(e){e.path;var t=e.component,a=(e.render,e.role,Object(W.a)(e,["path","component","render","role"]));return Object(n.jsx)(p.b,Object(v.a)(Object(v.a)({},a),{},{render:function(e){return q()?Object(n.jsx)(t,Object(v.a)({},e)):Object(n.jsx)(p.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},H=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)(u.a,{children:Object(n.jsxs)(p.d,{children:[Object(n.jsx)(p.b,{exact:!0,path:"/",component:M}),Object(n.jsx)(p.b,{exact:!0,path:"/login",component:E}),Object(n.jsx)(p.b,{exact:!0,path:"/register",component:F}),Object(n.jsx)(p.b,{exact:!0,path:"/logout",component:U}),Object(n.jsx)(z,{path:"/product",component:$}),Object(n.jsx)(z,{path:"/addproduct",component:L}),Object(n.jsx)(p.b,{path:"*",component:A})]})})}}]),a}(s.a.Component);var G=function(){return Object(n.jsx)(r.Fragment,{children:Object(n.jsx)(H,{})})},K=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,93)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};a(89),a(90);i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(G,{})}),document.getElementById("root")),K()}},[[92,1,2]]]);
//# sourceMappingURL=main.a624eca0.chunk.js.map