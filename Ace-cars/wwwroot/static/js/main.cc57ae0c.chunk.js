(this["webpackJsonpace-client"]=this["webpackJsonpace-client"]||[]).push([[0],{17:function(e){e.exports=JSON.parse('{"a":"https://localhost:44300/api"}')},52:function(e,t,a){},53:function(e,t,a){},74:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a(1),n=a.n(r),c=a(39),o=a.n(c),i=(a(52),a(53),a(5)),l=a(6),d=a(8),h=a(7),j=a(13),u=a(25),m=a.n(u),b=a(40),v=a(12),O=a.n(v);O.a.interceptors.request.use((function(e){var t=localStorage.getItem("token");return e.headers.Authorization=t?"Bearer ".concat(t):"",e}));var p={get:O.a.get,post:O.a.post,put:O.a.put,patch:O.a.patch,delete:O.a.delete},g=a(17),x=a(41),f=(a(71),"".concat(g.a,"/User/authenticate")),N="token";function C(e){return w.apply(this,arguments)}function w(){return(w=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.post(f,JSON.stringify(t),{headers:{"Content-Type":"application/json"}}).then((function(e){localStorage.setItem(N,e.data.token),console.log(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y={login:C},k=(a(74),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)("nav",{id:"navbar",className:"row navbar navbar-expand-lg navbar-light fixed-top navbarDashboard styledNav",style:{backgroundColor:"#e2e2ec"},children:Object(s.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown",children:Object(s.jsxs)("ul",{className:"navbar-nav",children:[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(j.b,{className:"nav-link butons-header",to:"/login",children:"login"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(j.b,{className:"nav-link butons-header",to:"/customer",children:"Customer"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(j.b,{className:"nav-link butons-header",to:"/addCustomer",children:"Add Customer"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(j.b,{className:"nav-link butons-header",to:"/register",children:"register"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(j.b,{className:"nav-link butons-header",to:"/logout",children:"logout"})})]})})})}}]),a}(r.Component)),E=a(2),S=a(15),P=a(4),U=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).validate=function(){var e="",t="";return s.state.data.Username||(e="invalid Username"),(!s.state.data.Password||s.state.data.Password.length<6)&&(t="invalid Password"),!e&&!t||(s.setState({userNameError:e,passwordError:t}),!1)},s.handelSubmit=s.handelSubmit.bind(Object(P.a)(s)),s.handleChange=s.handleChange.bind(Object(P.a)(s)),s.loginUser=s.loginUser.bind(Object(P.a)(s)),s.state={data:{Username:"",Password:""},userNameError:"",passwordError:""},s}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=Object(S.a)({},this.state.data);t[e.target.name]=e.target.value,this.setState({data:t})}},{key:"loginUser",value:function(){var e=this;if(this.validate())try{var t=this.state.data;y.login(t).then((function(t){console.log(t);var a=e.props.location.state;window.location=a?a.from.pathname:"/customer"})).catch((function(t){e.setState({userNameError:"invalid user name or Password",passwordError:"invalid user name or Password"})}))}catch(a){this.setState({userNameError:"invalid user name or Password",passwordError:"invalid user name or Password"})}}},{key:"handelSubmit",value:function(e){e.preventDefault(),this.loginUser()}},{key:"render",value:function(){var e=this.state.data;return Object(s.jsxs)(r.Fragment,{children:[Object(s.jsx)(k,{}),Object(s.jsx)("div",{className:"styleDiv parent",children:Object(s.jsx)("div",{className:"form-model font-bold h-100",children:Object(s.jsx)("div",{className:"container h-100",children:Object(s.jsx)("div",{className:"row align-items-center h-100",children:Object(s.jsx)("div",{className:"col-lg-6 col-md-7 col-sm-8 col-offset-sm-2 loginForm",children:Object(s.jsxs)("form",{children:[Object(s.jsx)("h3",{children:"Sign In"}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email "}),Object(s.jsx)("input",{value:e.Username,onChange:this.handleChange,type:"email",className:"form-control",name:"Username",placeholder:"Enter email"}),this.state.userNameError&&Object(s.jsx)("div",{className:"alert alert-danger",children:this.state.userNameError})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Password"}),Object(s.jsx)("input",{value:e.Password,onChange:this.handleChange,type:"Password",className:"form-control",name:"Password",placeholder:"Enter Password"}),this.state.passwordError&&Object(s.jsx)("div",{className:"alert alert-danger",children:this.state.passwordError})]}),Object(s.jsx)("button",{type:"submit",className:"btn btn-success",onClick:this.handelSubmit,children:"Login"})]})})})})})})]})}}]),a}(r.Component),D=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){localStorage.removeItem("token"),window.location="/"}},{key:"render",value:function(){return null}}]),a}(n.a.Component),A="".concat(g.a,"/User/register");var I=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).validate=function(){var e="",t="",a="";return s.state.data.Username||(e="invalid Username"),s.state.data.Name||(t="invalid Name"),(!s.state.data.Password||s.state.data.Password.length<6)&&(a="invalid Password"),!(e||a||t)||(s.setState({userNameError:e,passwordError:a,emailError:t}),!1)},s.handelSubmit=s.handelSubmit.bind(Object(P.a)(s)),s.handleChange=s.handleChange.bind(Object(P.a)(s)),s.validate=s.validate.bind(Object(P.a)(s)),s.register=s.register.bind(Object(P.a)(s)),s.state={data:{Username:"",Name:"",Password:""},userNameError:"",emailError:"",passwordError:""},s}return Object(l.a)(a,[{key:"handleChange",value:function(e){console.log(this.state.data);var t=Object(S.a)({},this.state.data);t[e.target.name]=e.target.value,this.setState({data:t})}},{key:"register",value:function(e){var t=this;if(e.preventDefault(),this.validate()){var a=this.state.data;try{(function(e){return p.post(A,JSON.stringify(e),{headers:{"Content-Type":"application/json"}}).then((function(){return C(e)}))})(a).then((function(e){var a=t.props.location.state;window.location=a?a.from.pathname:"/customer"})).catch((function(e){return console.log(e)}))}catch(s){this.setState({userNameError:"invalid user name or Password",passwordError:"invalid user name or Password",emailError:"invalid user name or Password"})}}}},{key:"handelSubmit",value:function(e){e.preventDefault(),this.register()}},{key:"render",value:function(){var e=this.state.data;return Object(s.jsxs)(r.Fragment,{children:[Object(s.jsx)(k,{}),Object(s.jsx)("div",{className:"styleDiv parent",children:Object(s.jsx)("div",{className:"form-model font-bold h-100",children:Object(s.jsx)("div",{className:"container h-100",children:Object(s.jsx)("div",{className:"row align-items-center h-100",children:Object(s.jsx)("div",{className:"col-lg-6 col-md-7 col-sm-8 col-offset-sm-2 RegisterForm",children:Object(s.jsxs)("form",{children:[Object(s.jsx)("h3",{children:"Sign Up"}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"User Name"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"User Name",name:"Username",onChange:this.handleChange,value:e.Username}),this.state.userNameError&&Object(s.jsx)("div",{className:"alert alert-danger",children:this.state.userNameError})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Name "}),Object(s.jsx)("input",{type:"Name",className:"form-control",placeholder:"Enter Name",name:"Name",value:e.Name,onChange:this.handleChange}),this.state.userNameError&&Object(s.jsx)("div",{className:"alert alert-danger",children:this.state.userNameError})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Password"}),Object(s.jsx)("input",{type:"Password",className:"form-control",placeholder:"Enter Password",name:"Password",value:e.Password,onChange:this.handleChange}),this.state.passwordError&&Object(s.jsx)("div",{className:"alert alert-danger",children:this.state.passwordError})]}),Object(s.jsx)("button",{type:"submit",className:"btn btn-success",onClick:this.register,children:"Sign Up"}),Object(s.jsxs)("p",{className:"forgot-Password text-right",children:["Already registered ? ",Object(s.jsx)(j.b,{to:"/login",children:"sign in"})]})]})})})})})})]})}}]),a}(r.Component),F=a(42),H=a.n(F),V=[{name:"Name",selector:"name",sortable:!0},{name:"Address",selector:"address",sortable:!0,right:!0},{name:"Visit Date",selector:"visitDate",sortable:!0,right:!0},{name:"Car",selector:"car[name]",sortable:!0,right:!0},{name:"Heard about us",selector:"heardAboutUs.name",sortable:!0,right:!0}],J=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={data:[]},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;O.a.get("https://localhost:44300/api/Customers").then((function(t){var a=t.data;e.setState({data:a})})).then((function(){return console.log(e.state.data)}))}},{key:"render",value:function(){return Object(s.jsxs)(r.Fragment,{children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)(k,{})}),Object(s.jsx)("div",{className:"styleDiv",children:Object(s.jsx)(H.a,{title:"Customers",columns:V,data:this.state.data})})]})}}]),a}(r.Component),B=function(){return Object(s.jsxs)("div",{className:"",children:[Object(s.jsx)(k,{}),Object(s.jsx)("div",{className:"styleDiv",children:Object(s.jsx)("h1",{children:"404 Error Page Not Found !"})})]})},M=function(){return Object(s.jsxs)("div",{className:"",children:[Object(s.jsx)(k,{}),Object(s.jsx)("div",{className:"styleDiv",children:Object(s.jsx)("h1",{style:{textAlign:"center"},children:"Home"})})]})},T="".concat(g.a,"/Customers");var L=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={customer:{Name:"",Address:"",VisitDate:"",CarId:"",HeardAboutUsId:""}},s.handleChange=s.handleChange.bind(Object(P.a)(s)),s.handelSubmit=s.handelSubmit.bind(Object(P.a)(s)),s.validat=s.validat.bind(Object(P.a)(s)),s}return Object(l.a)(a,[{key:"handleChange",value:function(e){var t=Object(S.a)({},this.state.customer);t[e.target.name]=e.target.value,this.setState({customer:t}),console.log(this.state.customer)}},{key:"validat",value:function(){var e=this.state.customer.Name,t=this.state.customer.Address,a=this.state.customer.VisitDate,s=this.state.customer.CarId,r=this.state.customer.HeardAboutUsId;return!!(e&&t&&a&&s&&r)}},{key:"addCustomer",value:function(){var e=this;(function(e){return p.post(T,JSON.stringify(e),{headers:{"Content-Type":"application/json"}})})(this.state.customer).then((function(){var t=e.props.location.state;window.location=t?t.from.pathname:"/customer"}))}},{key:"handelSubmit",value:function(e){e.preventDefault(),this.validat()?this.addCustomer():alert("please complete customer customer")}},{key:"render",value:function(){return console.log(this.state.customer),Object(s.jsxs)(r.Fragment,{children:[Object(s.jsx)(k,{}),Object(s.jsx)("div",{className:"styleDiv col-md-6 col-sm-12",children:Object(s.jsxs)("form",{className:"align-items-center",children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Name"}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"Name",value:this.state.customer.Name,placeholder:"Customer Name",onChange:this.handleChange})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Address"}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"Address",value:this.state.customer.Address,placeholder:"Customer Address",onChange:this.handleChange})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"VisitDate"}),Object(s.jsx)("input",{type:"date",className:"form-control",name:"VisitDate",value:this.state.customer.VisitDate,placeholder:"Visit Date",onChange:this.handleChange})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:" select Car"}),Object(s.jsxs)("select",{className:"form-control",name:"CarId",value:this.state.customer.CarId,onChange:this.handleChange,children:[Object(s.jsx)("option",{children:"Please select one"}),Object(s.jsx)("option",{value:"1",children:"Alfa "}),Object(s.jsx)("option",{value:"2",children:"Lancia  "}),Object(s.jsx)("option",{value:"3",children:"BMC "}),Object(s.jsx)("option",{value:"4",children:"BMW  "}),Object(s.jsx)("option",{value:"5",children:"Chevrolet "})]})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:" Heard About Us"}),Object(s.jsxs)("select",{className:"form-control",name:"HeardAboutUsId",value:this.state.customer.HeardAboutUsId,onChange:this.handleChange,children:[Object(s.jsx)("option",{children:"Please select one"}),Object(s.jsx)("option",{value:"1",children:"Social media "}),Object(s.jsx)("option",{value:"2",children:"News Paper  "}),Object(s.jsx)("option",{value:"3",children:"Web site "})]})]}),Object(s.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:this.handelSubmit,children:"Add"})]})})]})}}]),a}(n.a.Component),W=a(46);function q(){return!!function(){try{var e=localStorage.getItem("token");return Object(x.a)(e)}catch(t){return null}}()}var z=function(e){e.path;var t=e.component,a=(e.render,e.role,Object(W.a)(e,["path","component","render","role"]));return Object(s.jsx)(E.b,Object(S.a)(Object(S.a)({},a),{},{render:function(e){return q()?Object(s.jsx)(t,Object(S.a)({},e)):Object(s.jsx)(E.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},R=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)(j.a,{children:Object(s.jsxs)(E.d,{children:[Object(s.jsx)(E.b,{exact:!0,path:"/",component:M}),Object(s.jsx)(E.b,{exact:!0,path:"/login",component:U}),Object(s.jsx)(E.b,{exact:!0,path:"/register",component:I}),Object(s.jsx)(E.b,{exact:!0,path:"/logout",component:D}),Object(s.jsx)(z,{path:"/customer",component:J}),Object(s.jsx)(z,{path:"/addCustomer",component:L}),Object(s.jsx)(E.b,{path:"*",component:B})]})})}}]),a}(n.a.Component);var G=function(){return Object(s.jsx)(r.Fragment,{children:Object(s.jsx)(R,{})})},K=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,85)).then((function(t){var a=t.getCLS,s=t.getFID,r=t.getFCP,n=t.getLCP,c=t.getTTFB;a(e),s(e),r(e),n(e),c(e)}))};a(80),a(81);o.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(G,{})}),document.getElementById("root")),K()}},[[84,1,2]]]);
//# sourceMappingURL=main.cc57ae0c.chunk.js.map